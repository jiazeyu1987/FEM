:root{
  --bg:#1e1e1e; --panel:#252526; --border:#3c3c3c;
  --text:#d4d4d4; --muted:#9da0a6; --blue:#0e639c; --green:#22c55e; --red:#f87171; --yellow:#f59e0b;
}
*{box-sizing:border-box} html,body,#app{height:100%} body{margin:0;background:var(--bg);color:var(--text);font-family:Segoe UI,Roboto,Inter,system-ui,Arial}
.titlebar{height:38px;display:flex;align-items:center;justify-content:space-between;padding:0 12px;border-bottom:1px solid var(--border);background:linear-gradient(#2a2a2a,#1e1e1e)}
.title{font-weight:600;color:#e5e5e5} .title-left .dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:6px}
.dot.red{background:#ff5f56}.dot.yellow{background:#ffbd2e}.dot.green{background:#27c93f}
.container{display:flex;height:calc(100% - 38px)}
.sidebar{width:400px;border-right:1px solid var(--border);background:var(--panel);padding:12px;overflow:auto}
.section{margin-bottom:14px} .section.small{font-size:12px;color:var(--muted)}
.label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
input[type="number"],input[type="text"],button{width:100%;padding:8px 10px;background:#1f1f1f;border:1px solid var(--border);color:var(--text);border-radius:4px}
button{cursor:pointer;background:var(--blue);border-color:#0b5a86} button:disabled{opacity:.5;cursor:not-allowed}
.checkboxes label{display:block;margin:4px 0;font-size:13px}
.criteria details{margin-bottom:8px}
.criteria ul{margin:6px 0 0 18px;padding:0;color:#cbd5e1;font-size:12px}
.criteria .grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.criteria .grid label{display:flex;flex-direction:column;font-size:12px;color:#cbd5e1}
.criteria .grid input{margin-top:4px}
.main{flex:1;display:block;padding:12px;overflow:auto;min-height:0}
.content-grid{display:grid;grid-template-columns:1fr;gap:12px;align-items:start}
.left-col{display:flex;flex-direction:column;gap:12px;min-width:0}
.panel{border:1px solid var(--border);background:var(--panel);border-radius:6px;overflow:hidden}
.panel.video-panel{display:flex;flex-direction:column;min-height:40vh}
.panel-header{padding:8px 10px;border-bottom:1px solid var(--border);font-weight:600}
.panel-body{padding:10px}
.panel.video-panel .panel-body.video-box{flex:1}
.video-box{position:relative;display:flex;flex-direction:column;height:100%;min-height:360px}
.video-wrap{position:relative;transform-origin:top left}
video{display:block;border:1px dashed var(--border);background:#111;object-fit:contain;width:100%;height:100%}
#overlay{position:absolute;left:0;top:0;pointer-events:auto}
.panning{cursor:grabbing}
.hint{position:absolute;right:8px;bottom:8px;font-size:12px;color:var(--muted);background:rgba(0,0,0,.35);padding:4px 6px;border-radius:4px}
.roi-mode-selector{display:flex;gap:12px;margin-bottom:8px;font-size:12px}
.roi-mode-selector label{display:inline-flex;align-items:center;color:#cbd5e1}
.roi-mode-selector input[type="radio"]{margin-right:4px}
.roi-params{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:8px}
.roi-params label{display:flex;flex-direction:column;font-size:12px;color:#cbd5e1}
.roi-params input{margin-top:4px}
.result-text{margin-bottom:8px}
.badges{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0}
.badge{font-size:12px;padding:3px 8px;border-radius:999px;border:1px solid var(--border);background:#1f2937;color:#e5e7eb}
.badge.ok{background:rgba(34,197,94,.15);border-color:#166534;color:#22c55e}
.badge.no{background:rgba(248,113,113,.12);border-color:#7f1d1d;color:#f87171}
.stats{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0}
.curve-toggle{display:flex;gap:16px;align-items:center;margin:6px 0 8px 0;font-size:12px;color:#cbd5e1}
.curve-toggle label{display:inline-flex;gap:4px;align-items:center}
.judge{display:flex;gap:12px;align-items:center;margin:6px 0}
.judge-indicator{width:28px;height:28px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700;background:#991b1b;color:#fff}
.judge-indicator.ok{background:#166534}
.stat{background:#111827;border:1px solid var(--border);border-radius:6px;padding:6px 8px;font-size:12px;color:#cbd5e1}
.stat .k{color:#9da0a6;margin-right:4px}
table{width:100%;border-collapse:collapse;font-size:12px}
thead{background:#111827;color:#cbd5e1}
th,td{padding:6px 8px;border-bottom:1px solid var(--border)}
tbody tr:hover{background:#0b1220}
.chart-area{display:flex;flex-direction:column;gap:8px}

/* Information Panel Styles */
.info-panel{background:var(--panel);border:1px solid var(--border);border-radius:6px}
.info-panel-content{padding:8px}
.timestamp-display{display:flex;align-items:center;margin-bottom:8px;font-size:12px}
.info-label{color:var(--muted);margin-right:4px;min-width:30px}
.info-value{color:var(--text);font-weight:600;font-family:monospace}
.curve-values{display:flex;flex-direction:column;gap:4px;margin-bottom:8px}
.curve-value{display:flex;align-items:center;justify-content:space-between;font-size:12px;padding:2px 4px;background:#1f2937;border-radius:3px}
.curve-label{font-weight:600;padding:2px 6px;border-radius:3px;color:#fff}
.curve-label.blue{background:#4fc3f7}
.curve-label.yellow{background:#fbbf24}
.curve-label.white{background:#ffffff;color:#000}
.curve-label.pink{background:#f9a8d4;color:#000}
.curve-label.purple{background:#a855f7;color:#fff}
.curve-number{font-family:monospace;font-weight:600;color:#cbd5e1;min-width:60px;text-align:right}
.info-status{margin-bottom:8px}
.status-text{font-size:11px;color:var(--muted);font-style:italic}
.clear-btn{width:100%;padding:6px 8px;background:#dc2626;color:white;border:none;border-radius:4px;font-size:11px;cursor:pointer;transition:background-color 0.2s}
.clear-btn:hover{background:#b91c1c}
.clear-btn:active{background:#991b1b}

/* Batch Analysis Styles */
.batch-section{background:var(--panel);border:1px solid var(--border);border-radius:6px}
.batch-controls{display:flex;flex-direction:column;gap:12px}
.drop-zone{border:2px dashed var(--border);border-radius:6px;padding:16px;text-align:center;transition:border-color 0.2s,background-color 0.2s}
.drop-zone:hover{border-color:#4fc3f7;background:rgba(79,195,247,0.05)}
.drop-zone.drag-over{border-color:#4fc3f7;background:rgba(79,195,247,0.1)}
.drop-zone-content{color:var(--muted)}
.drop-zone-text{margin:4px 0;font-size:12px}
.batch-btn{width:100%;padding:8px 12px;border:none;border-radius:4px;font-size:12px;font-weight:600;cursor:pointer;transition:all 0.2s}
.batch-btn.primary{background:var(--blue);color:white}
.batch-btn.primary:hover:not(:disabled){background:#0b5a86}
.batch-btn.primary:disabled{opacity:0.5;cursor:not-allowed}
.batch-btn.secondary{background:#374151;color:white}
.batch-btn.secondary:hover{background:#1f2937}
.batch-file-list{background:#1f2937;border-radius:4px;overflow:hidden}
.file-list-header{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#111827;font-size:12px;color:#cbd5e1}
.file-list-items{max-height:150px;overflow-y:auto}
.file-item{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-bottom:1px solid var(--border);font-size:11px}
.file-item:last-child{border-bottom:none}
.file-item:hover{background:rgba(79,195,247,0.1)}
.file-item-info{flex:1;min-width:0}
.file-item-name{color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.file-item-size{color:var(--muted);font-size:10px}
.file-item-status{margin-left:8px}
.file-item-remove{background:#dc2626;color:white;border:none;border-radius:3px;padding:2px 6px;font-size:10px;cursor:pointer}
.file-item-remove:hover{background:#b91c1c}
.clear-btn-small{background:#dc2626;color:white;border:none;border-radius:3px;padding:2px 6px;font-size:10px;cursor:pointer;transition:background-color 0.2s}
.clear-btn-small:hover{background:#b91c1c}
.batch-action-section{display:flex;flex-direction:column;gap:8px}
.batch-progress{background:#1f2937;border-radius:4px;padding:12px}
.progress-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:12px;color:#cbd5e1}
.progress-bar{height:4px;background:#374151;border-radius:2px;overflow:hidden;margin-bottom:8px}
.progress-fill{height:100%;background:linear-gradient(90deg, #4fc3f7 0%, #22c55e 100%);width:0%;transition:width 0.3s ease}
.batch-status{font-size:11px;color:var(--muted);text-align:center}
.video-selector{background:var(--panel);border:1px solid var(--border);border-radius:6px}
.video-select{width:100%;padding:8px 10px;background:#1f1f1f;border:1px solid var(--border);color:var(--text);border-radius:4px;font-size:12px;cursor:pointer}
.video-select:disabled{opacity:0.5;cursor:not-allowed}
